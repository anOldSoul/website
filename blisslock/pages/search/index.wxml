<view class='container'>
  <view class='title'><view class='dot'></view>我的设备</view>
  <!-- <button bindtap="openBluetoothAdapter">开始扫描</button>
  <button bindtap="stopBluetoothDevicesDiscovery">停止扫描</button>
  <button bindtap="closeBluetoothAdapter">结束流程</button> -->

  <!-- <view class="devices_summary">已发现 {{devices.length}} 个外围设备：</view> -->
  <view wx:for="{{devices}}" wx:key="index"
    data-device-id="{{item.deviceId}}"
    data-name="{{item.name || item.localName}}"
    bindtap="currentInfo" 
    class="device_item"
    hover-class="device_item_hover">
      <view style="font-size: 16px; color: #333;">{{item.name}}</view>
      <view>
        <checkbox value="{{item.name}}" checked="{{checked}}"/>
      </view>
  </view>

  <view class="connected_info" wx:if="{{connected}}">
    <view>
      <text>已连接到 {{name}}</text>
      <view class="operation">
      <button wx:if="{{canWrite}}" size="mini" bindtap="writeBLECharacteristicValue">写数据</button>
      <button size="mini" bindtap="closeBLEConnection">断开连接</button>
      </view>
    </view>
    <view wx:for="{{chs}}" wx:key="index" style="font-size: 12px; margin-top: 10px;">
      <view>特性UUID: {{item.uuid}}</view>
      <view>特性值: {{item.value}}</view>
    </view>
  </view>
  <view class='add_apparatus' bindtap="createBLEConnection" >绑定</view>
</view>